<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Your AutoBook</title>
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri&family=Playfair+Display&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous" />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
</head>
<body>
    <!-- Splash Screen -->
    <div id="splash">
        <h1>Your AutoBook</h1>
        <p>Made with тЭдя╕П by Rifat & GPT</p>
        <div class="auto-emoji">ЁЯЫ║</div>
    </div>

    <!-- Side Menu -->
    <div class="side-menu" id="sideMenu">
        <span class="close-menu" onclick="window.app.toggleMenu()">тЭМ</span>
        <ul>
            <li onclick="window.app.showDashboard()">ЁЯПа ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржб</li>
            <li onclick="window.app.showReport()">ЁЯУД рж░рж┐ржкрзЛрж░рзНржЯ</li>
           
            <li onclick="window.app.showInstallment()">ЁЯТ░ ржХрж┐рж╕рзНрждрж┐ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ</li>
           
            <li onclick="window.app.showMessages()">ЁЯУй ржорзЗрж╕рзЗржЬ</li>
            <li onclick="window.app.showSettings()">тЪЩя╕П рж╕рзЗржЯрж┐ржВрж╕</li>
            <li onclick="window.app.showAbout()">тД╣я╕П ржЖржорж╛ржжрзЗрж░ рж╕ржорзНржкрж░рзНржХрзЗ</li>
            <li onclick="window.app.logoutUser()">ЁЯФС рж▓ржЧржЖржЙржЯ</li>
        </ul>
    </div>

    <!-- Header -->
    <header>
        <span class="menu-icon" onclick="window.app.toggleMenu()">тШ░</span>
        <h2>Your AutoBook</h2>
        <div class="icons">
            <i class="fas fa-moon" id="darkModeToggle" onclick="window.app.toggleDarkMode()" title="ржбрж╛рж░рзНржХ/рж▓рж╛ржЗржЯ ржорзЛржб"></i>
            <i class="fas fa-envelope" onclick="window.app.showMessages()" style="position: relative;">
                <span id="unreadCount" class="badge hidden"></span>
            </i>
        </div>
    </header>

    <!-- Main Content -->
    <main id="mainContent">
        <div class="cash-card" onclick="window.app.toggleCash()">
            <span id="cashLabel">тАвтАвтАвтАвтАвтАв</span>
            <i class="fas fa-eye"></i>
        </div>
        <div class="summary-box" id="todaySummaryBox">
            <span class="close-summary" onclick="window.app.hideToday()">тЭМ</span>
            <div id="todaySummary">рж▓рзЛржб рж╣ржЪрзНржЫрзЗ...</div>
        </div>
        <button class="new-entry-btn" onclick="window.app.showEntryForm()">+ ржирждрзБржи ржПржирзНржЯрзНрж░рж┐</button>
        <div id="entries"></div>
    </main>

    <!-- Entry Form -->
    <div class="entry-form" id="entryForm" role="dialog" aria-modal="true" aria-labelledby="entryFormTitle">
        <h3 id="entryFormTitle" style="font-family:'Playfair Display'; font-size:1.2rem;">ржирждрзБржи ржПржирзНржЯрзНрж░рж┐ ржпрзЛржЧ ржХрж░рзБржи</h3>
                <select id="autoSelect" aria-label="ржЕржЯрзЛ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи">
            <!-- ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржерзЗржХрзЗ ржЕржЯрзЛ рждрж╛рж▓рж┐ржХрж╛ ржПржЦрж╛ржирзЗ ржпрзЛржЧ ржХрж░рж╛ рж╣ржмрзЗ -->
            <option value="">ржЧрж╛рзЬрж┐ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи</option>
        </select>
        <input type="date" id="dateInput" aria-label="рждрж╛рж░рж┐ржЦ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи" />
        <div class="radio-group" role="radiogroup" aria-labelledby="typeLabel">
            <label id="typeLabel"><input type="radio" name="type" value="income" checked /> ржЖрзЯ</label>
            <label><input type="radio" name="type" value="expense" /> ржмрзНржпрзЯ</label>
        </div>
        <input type="number" id="amountInput" placeholder="ржЯрж╛ржХрж╛рж░ ржкрж░рж┐ржорж╛ржг" aria-label="ржЯрж╛ржХрж╛рж░ ржкрж░рж┐ржорж╛ржг рж▓рж┐ржЦрзБржи" />
        <textarea id="descriptionInput" placeholder="ржмрж░рзНржгржирж╛" rows="2" aria-label="ржмрж░рзНржгржирж╛ рж▓рж┐ржЦрзБржи"></textarea>
        <input type="text" id="entryByInput" placeholder="ржПржирзНржЯрзНрж░рж┐ ржХрж╛рж░рзАрж░ ржирж╛ржо (ржЦрж╛рж▓рж┐ рж░рж╛ржЦрж▓рзЗ ржЖржкржирж╛рж░ ржирж╛ржо ржмрзНржпржмрж╣рзГржд рж╣ржмрзЗ)" aria-label="ржПржирзНржЯрзНрж░рж┐ ржХрж╛рж░рзАрж░ ржирж╛ржо рж▓рж┐ржЦрзБржи" />
        <button class="submit-btn" onclick="window.app.addEntry()">тЬЕ ржЬржорж╛ ржжрж┐ржи</button>
        <button class="cancel-btn" onclick="window.app.hideEntryForm()">ржмрж╛рждрж┐рж▓</button>
    </div>

    <!-- Sections (Messages, Report, etc.) -->
    <section id="messagesSection" class="hidden" style="padding:1rem;">
        <h2 style="font-family:'Playfair Display'; font-size:1.5rem; margin-bottom:1rem;">ржорзЗрж╕рзЗржЬ</h2>
        <ul id="messagesList" style="list-style:none; padding-left:0;"></ul>
        <button class="clear-btn" onclick="window.app.backToDashboard()">тмЕя╕П ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржбрзЗ ржлрж┐рж░рзЗ ржпрж╛ржи</button>
    </section>

    <section id="reportSection" class="hidden" style="padding:1rem;">
        <h2 style="font-family:'Playfair Display'; font-size:1.5rem; margin-bottom:1rem;">рж░рж┐ржкрзЛрж░рзНржЯ</h2>
        <div class="filter-container">
            <div class="filter-group"><label for="startDate">рж╢рзБрж░рзБрж░ рждрж╛рж░рж┐ржЦ:</label><input type="date" id="startDate"></div>
            <div class="filter-group"><label for="endDate">рж╢рзЗрж╖рзЗрж░ рждрж╛рж░рж┐ржЦ:</label><input type="date" id="endDate"></div>
            <div class="filter-group">
                <label for="autoFilter">ржЕржЯрзЛ ржлрж┐рж▓рзНржЯрж╛рж░:</label>
                <select id="autoFilter"><option value="all">рж╕ржм ржЕржЯрзЛ</option></select>
                </div>
            <button class="filter-btn" onclick="window.app.generateReportContent()">ржлрж┐рж▓рзНржЯрж╛рж░ ржХрж░рзБржи</button>
        </div>
        <div class="report-summary" id="reportSummary"></div>
        <button class="clear-btn" onclick="window.app.downloadPDF()">PDF ржбрж╛ржЙржирж▓рзЛржб ржХрж░рзБржи</button>
        <div id="reportContent" style="margin-top:1rem;"></div>
        <button class="clear-btn" onclick="window.app.backToDashboard()">тмЕя╕П ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржбрзЗ ржлрж┐рж░рзЗ ржпрж╛ржи</button>
    </section>
    
    
    

        <section id="settingsSection" class="hidden" style="padding:1rem;">
        <h2 style="font-family:'Playfair Display'; font-size:1.5rem; margin-bottom:1rem;">рж╕рзЗржЯрж┐ржВрж╕</h2>
        
        <!-- ржЕржЯрзЛ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ рж╕рзЗржХрж╢ржи -->
        <div class="settings-card">
            <h3><i class="fas fa-car"></i> ржЖржорж╛рж░ ржЧрж╛рзЬрж┐ ржорзНржпрж╛ржирзЗржЬ ржХрж░рзБржи</h3>
            <p class="settings-description">ржПржЦрж╛ржирзЗ ржЖржкржирж╛рж░ ржирждрзБржи ржЧрж╛рзЬрж┐ ржпрзЛржЧ ржХрж░рзБржи ржЕржержмрж╛ ржкрзБрж░ржирзЛ ржЧрж╛рзЬрж┐ рждрж╛рж▓рж┐ржХрж╛ ржерзЗржХрзЗ ржорзБржЫрзЗ ржлрзЗрж▓рзБржиред</p>
            
            <div id="autoList" class="auto-list">
                <!-- ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржерзЗржХрзЗ ржЧрж╛рзЬрж┐рж░ рждрж╛рж▓рж┐ржХрж╛ ржПржЦрж╛ржирзЗ ржЖрж╕ржмрзЗ -->
            </div>
            
            <div class="add-auto-form">
                <input type="text" id="newAutoNameInput" placeholder="ржЧрж╛рзЬрж┐рж░ ржирж╛ржо ржмрж╛ ржирж╛ржорзНржмрж╛рж░ ржжрж┐ржи (e.g., ржЕржЯрзЛ-рзй)" />
                <button id="addAutoBtn" class="add-btn" onclick="window.app.addAuto()">+ ржЧрж╛рзЬрж┐ ржпрзЛржЧ ржХрж░рзБржи</button>
            </div>
        </div>
        
        <button class="clear-btn" onclick="window.app.backToDashboard()">тмЕя╕П ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржбрзЗ ржлрж┐рж░рзЗ ржпрж╛ржи</button>
    </section>

    <section id="aboutSection" class="hidden" style="padding:1rem;">
        <h2 style="font-family:'Playfair Display'; font-size:1.5rem; margin-bottom:1rem;">ржЖржорж╛ржжрзЗрж░ рж╕ржорзНржкрж░рзНржХрзЗ</h2>
        <p>ржЕрзНржпрж╛ржк ржнрж╛рж░рзНрж╕ржи: 1.2.0 (Filter & PDF Update)</p>
        <button class="clear-btn" onclick="window.app.backToDashboard()">тмЕя╕П ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржбрзЗ ржлрж┐рж░рзЗ ржпрж╛ржи</button>
    </section>
    
        <!-- ============================================== -->
    <!--          INSTALLMENT MANAGEMENT SECTION        -->
    <!-- ============================================== -->
    <section id="installmentSection" class="hidden" style="padding:1rem;">
        <h2 style="font-family:'Playfair Display'; font-size:1.5rem; margin-bottom:1rem;">ржХрж┐рж╕рзНрждрж┐ ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ</h2>
        
        <!-- Tab Navigation -->
        <div class="tab-nav">
            <button class="tab-link active" onclick="window.app.openInstallmentTab(event, 'planManagement')">ржкрзНрж▓рзНржпрж╛ржи ржорзНржпрж╛ржирзЗржЬржорзЗржирзНржЯ</button>
            <button class="tab-link" onclick="window.app.openInstallmentTab(event, 'payment')">ржХрж┐рж╕рзНрждрж┐ ржкрж░рж┐рж╢рзЛржз</button>
        </div>
        
        <!-- Tab Content -->
        <!-- Tab 1: Plan Management -->
        <div id="planManagement" class="tab-content" style="display: block;">
            <div id="installmentPlansList">
                <!-- ржХрж┐рж╕рзНрждрж┐рж░ ржкрзНрж▓рзНржпрж╛ржиржЧрзБрж▓рзЛ ржПржЦрж╛ржирзЗ рж▓рзЛржб рж╣ржмрзЗ -->
            </div>
            <button class="new-entry-btn" onclick="window.app.showInstallmentPlanForm()">+ ржирждрзБржи ржХрж┐рж╕рзНрждрж┐рж░ ржкрзНрж▓рзНржпрж╛ржи ржпрзЛржЧ ржХрж░рзБржи</button>
        </div>
        
        <!-- Tab 2: Payment -->
        <div id="payment" class="tab-content">
            <div id="installmentPaymentList">
                <!-- ржХрж┐рж╕рзНрждрж┐ ржкрж░рж┐рж╢рзЛржзрзЗрж░ ржХрж╛рж░рзНржбржЧрзБрж▓рзЛ ржПржЦрж╛ржирзЗ рж▓рзЛржб рж╣ржмрзЗ -->
            </div>
        </div>
        
        <button class="clear-btn" style="margin-top: 1rem;" onclick="window.app.backToDashboard()">тмЕя╕П ржбрзНржпрж╛рж╢ржмрзЛрж░рзНржбрзЗ ржлрж┐рж░рзЗ ржпрж╛ржи</button>
    </section>
    
    <!-- Entry Form for Installment Plan -->
    <div class="entry-form" id="installmentPlanForm" role="dialog" aria-modal="true">
        <h3 style="font-family:'Playfair Display'; font-size:1.2rem;">ржирждрзБржи ржХрж┐рж╕рзНрждрж┐рж░ ржкрзНрж▓рзНржпрж╛ржи</h3>
        <select id="installmentAutoSelect" aria-label="ржЧрж╛рзЬрж┐ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи">
            <option value="">ржЧрж╛рзЬрж┐ ржирж┐рж░рзНржмрж╛ржЪржи ржХрж░рзБржи</option>
        </select>
        <input type="number" id="totalPriceInput" placeholder="ржЧрж╛рзЬрж┐рж░ ржорзЛржЯ ржорзВрж▓рзНржп" aria-label="ржЧрж╛рзЬрж┐рж░ ржорзЛржЯ ржорзВрж▓рзНржп" />
        <input type="number" id="downPaymentInput" placeholder="ржбрж╛ржЙржи ржкрзЗржорзЗржирзНржЯ" aria-label="ржбрж╛ржЙржи ржкрзЗржорзЗржирзНржЯ" />
        
                <input type="number" id="totalInstallmentsInput" placeholder="ржорзЛржЯ ржХрж┐рж╕рзНрждрж┐рж░ рж╕ржВржЦрзНржпрж╛ (e.g., 24)" aria-label="ржорзЛржЯ ржХрж┐рж╕рзНрждрж┐рж░ рж╕ржВржЦрзНржпрж╛" />
        <p id="calculatedAmount" class="calculated-amount-display"></p> <!-- рж╕рзНржмрзЯржВржХрзНрж░рж┐рзЯ рж╣рж┐рж╕рж╛ржм ржжрзЗржЦрж╛ржирзЛрж░ ржЬржирзНржп -->
        
        <label for="firstInstallmentDateInput" style="margin-top: 0.5rem; font-size: 0.9rem;">ржкрзНрж░ржержо ржХрж┐рж╕рзНрждрж┐рж░ рждрж╛рж░рж┐ржЦ:</label>
        <input type="date" id="firstInstallmentDateInput" aria-label="ржкрзНрж░ржержо ржХрж┐рж╕рзНрждрж┐рж░ рждрж╛рж░рж┐ржЦ" />
        
        <button class="submit-btn" onclick="window.app.saveInstallmentPlan()">тЬЕ рж╕рзЗржн ржХрж░рзБржи</button>
        <button class="cancel-btn" onclick="window.app.hideInstallmentPlanForm()">ржмрж╛рждрж┐рж▓</button>
    </div>

    <!-- Audio Elements -->
    <audio id="submitSound" src="sounds/submit.mp3" preload="auto"></audio>
    <audio id="deleteSound" src="sounds/delete.mp3" preload="auto"></audio>
    <audio id="errorSound" src="sounds/error.mp3" preload="auto"></audio>

    <!-- External JS Libraries (UPDATED) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/Sharrrk/jsPDF-CustomFonts-support@master/dist/jspdf.customfonts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/Sharrrk/jsPDF-CustomFonts-support@master/dist/default_vfs.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    
    <!-- Your Custom Script -->
    <script src="script.js"></script>
</body>
</html> 

